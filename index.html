<!DOCTYPE html>
<html>
<head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-772TLD9DX3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-772TLD9DX3');
</script>

<meta charset="UTF-8">
<title>米池計算機</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
	<div class="container">
        <h1>米池計算機</h1>

        <!-- 選擇池類型 -->
        <div class="section">
            <p>選擇池類型:</p>
            <label><input type="radio" name="poolType" value="yuan" checked> 原</label>
            <label><input type="radio" name="poolType" value="tie"> 鐵</label>
            <label><input type="radio" name="poolType" value="jue"> 絕</label>
        </div>
        
        <!-- 輸入目標五星數 -->
        <div class="section">
            <label for="targetFiveStars">目標五星角色數:</label>
            <input type="number" id="targetFiveStars" name="targetFiveStars" min="0" value = 1>            
            <label for="targetFiveStars_weapon">目標五星武器數:</label>
            <input type="number" id="targetFiveStars_weapon" name="targetFiveStars_weapon" min="0" value = 1>
        </div>

        <!-- 輸入已墊抽數 -->
        <div class="section">
            <label for="currentPulls">角色已墊抽數:</label>
            <input type="number" id="currentPulls" name="currentPulls" min="0" value = 0>
            <label for="currentPulls_weapon">武器已墊抽數:</label>
            <input type="number" id="currentPulls_weapon" name="currentPulls_weapon" min="0" value = 0>
        </div>
        
        <div class="section">
            <label for="simTimes">模擬次數:</label>
            <input type="number" id="simTimes" name="simTimes" min="1", max="1000000000" value = 1000000>
        </div>


        <div class="section">
            <label style="width:30%"><input type="checkbox" id="hardPity" name="hardPity" > 角色大保底</label>
            <label style="width:30%"><input type="checkbox" id="hardPity_weapon" name="hardPity_weapon" > 武器大保底</label> 
            <label id="hardCountLabel" for="hardCount"> 
            <a href="https://www.bilibili.com/video/BV13XBiYZErT" class="tooltip"
				target="_blank">? <span class="tooltiptext">明光機制模型使用B站up"一棵平衡树"的推論計算。有做些微調整使結果更接近大數據。</span>
			</a>明光計數器
			</label> 
			<input type="number" id="hardCount" name="hardCount" min="0" max="3" value = 1 >
        </div>

        <!-- 模擬按鈕 -->
        <div class="section">
            <button id="simulateButton">模擬</button>
        </div>

        <!-- 模擬結果 -->
        <div class="section">
            <label for="result">模擬結果:</label>
            <textarea id="result" name="result" rows="5" cols="30" readonly></textarea>
        </div>

		<!-- 圖表 -->
		<div class="section">
			<canvas id="resultChart" width="400" height="200"></canvas>
		</div>
	</div>
    
        <script src="js/script.js"></script>
        
        <div id="loadingOverlay" class="overlay" style="display: none;">
    <div class="loading-content">
        <img src="image/37.gif" alt="計算中" style="width: 100%; height: 100%;">
        <p>計算中...</p>
    </div>
</div>
</body>
</html>